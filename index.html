<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="qr">
     <p id="title"></p> <!-- Это для проверки того, что QR код меняется. Можно удалить -->
  </div>
  <script>
    let userDeviceArray = [
        {device: 'Android', platform: /Android/},
        {device: 'iPhone', platform: /iPhone/},
        {device: 'iPad', platform: /iPad/},
        {device: 'Symbian', platform: /Symbian/},
        {device: 'Windows Phone', platform: /Windows Phone/},
        {device: 'Tablet OS', platform: /Tablet OS/},
        {device: 'Linux', platform: /Linux/},
        {device: 'Windows', platform: /Windows NT/},
        {device: 'Macintosh', platform: /Macintosh/}
    ];

    let platform = navigator.userAgent;

    function getPlatform() {
        for (let i in userDeviceArray) {
            if (userDeviceArray[i].platform.test(platform)) {
                return userDeviceArray[i].device;
            }
        }
        return 'Неизвестная платформа!' + platform;
    }

    let title = document.getElementById("title"); // Для проверки
    let qrBlock = document.getElementById("qr");
    let img = document.createElement("img");
    img.width = 80; // Ширина кода
    img.height = 80; // Высота кода
    img.alt = "QR code"; // Текст, если QR код не загрузится

    if((getPlatform() ===  "iPhone") || (getPlatform() === "iPad") || (getPlatform() === "Macintosh")) {
      // title.textContent = "IOS"; // Для проверки
      title.textContent = getPlatform();
      img.src = "./assets/appstore.svg";
      qr.appendChild(img);
    } else if(getPlatform() === "Android") {
      let userAgent = navigator.userAgent || navigator.vendor || window.opera;
      if (/huawei/i.test(userAgent)) {
        title.textContent = "Huawei"; // Для проверки
        img.src = "./assets/appgallery.svg";
        qr.appendChild(img);
      } else {
      title.textContent = getPlatform();
      // title.textContent = "Google"; // Для проверки
        img.src = "./assets/google.svg";
        qr.appendChild(img);
      }
    } else {
      title.textContent = getPlatform();
      // title.textContent = "Не Android, и не IOS, вывод Google"; // Для проверки
      img.src = "./assets/google.svg";
      qr.appendChild(img);
    }
  </script>
</body>
</html>